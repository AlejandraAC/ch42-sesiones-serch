import{n as p}from"./navbar-app-BsLDXIwH.js";import{d as u}from"./domainName-BqwKdE-m.js";const v=async n=>{const s=`${u()}/api/v1/users`,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},t=await fetch(s,r);if(t.status!==201)throw(await t.json()).message;const o=await t.json();return console.log(o),o};document.getElementById("navbar-app").innerHTML=p();const e=document.forms.contactForm;e.addEventListener("submit",async n=>{n.preventDefault();const s=e.elements.email,r=e.elements.firstName,t=e.elements.lastName,o=e.elements.password,m=e.elements.birthdate,d=e.elements["terminos-condiciones"];s.value=s.value.trim().toLowerCase(),r.value=r.value.trim(),t.value=t.value.trim();const i={firstName:r.value,lastName:t.value,email:s.value,password:o.value,birthdate:m.value,avatar:"https://randomuser.me/api/portraits/lego/1.jpg",termsAndConditions:d.checked};console.table(i);const c=validateLoginForm(i);if(c.isValid)try{await v(i),alert("Gracias por registrarte"),e.reset()}catch(a){const l=document.getElementById("post-error-message");l.innerHTML=a,l.style.display="block",setTimeout(()=>l.style.display="none",5e3)}else{const a=document.getElementById("error-message");a.innerHTML=c.error,a.style.display="block",setTimeout(()=>a.style.display="none",5e3)}});
